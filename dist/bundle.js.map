{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/app/GameMain.ts","src/app/GameManager.ts","src/main.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","﻿//main.ts之外的入口\r\nimport GameManager from './GameManager';\r\n\r\nexport default class GameMain\r\n{\r\n    public static instance: GameMain = new GameMain();\r\n\r\n    public win: any = null;\r\n    //不使用全局无法执行更新\r\n    public scene: THREE.Scene = null;\r\n    public camera: THREE.Camera = null;\r\n    public renderer: THREE.WebGLRenderer = null;\r\n\r\n    public player: THREE.Object3D = null;\r\n\r\n    constructor()\r\n    {}\r\n\r\n    public Init(win: any, _scene, _camera, _render)\r\n    {\r\n        console.log(\"Entrance Init\");\r\n        this.win = win;\r\n        this.scene = _scene;\r\n        this.camera = _camera;\r\n        this.renderer = _render;\r\n        GameManager.instance.Init();\r\n        this.update();\r\n        //for (let v of this.scene.children)\r\n        //{\r\n        //    console.log(v);\r\n        //}\r\n    }\r\n\r\n    public update()\r\n    {\r\n        GameMain.instance.renderer.clear();\r\n        GameManager.instance.GameUpdate();\r\n        GameMain.instance.renderer.render(GameMain.instance.scene, GameMain.instance.camera);\r\n        requestAnimationFrame(GameMain.instance.update);\r\n    }\r\n}","﻿import GameMain from './GameMain';\r\n\r\nexport default class GameManager {\r\n\r\n    public static instance: GameManager = new GameManager();\r\n    public gameMain: GameMain = null;\r\n    public player: THREE.Object3D = null;\r\n\r\n    public moveSpeed = 0.2;\r\n\r\n    constructor()\r\n    { }\r\n\r\n    public Init()\r\n    {\r\n        console.log(\"GameManager init\");\r\n        this.player = GameMain.instance.scene.getObjectByName(\"player\");\r\n        //document.onmousedown = GameManager.instance.onKeyDown;\r\n        //document.onkeyup = GameManager.instance.onKeyUp;\r\n        document.ontouchmove = this.onTouchMove;\r\n        document.onclick = () => { document.onmousemove = this.onTouchMove; };\r\n        this.test();\r\n    }\r\n\r\n    public test()\r\n    {\r\n\r\n    }\r\n\r\n    public GameUpdate()\r\n    {\r\n        //this.player.position.x += 0.2;//右\r\n        //this.player.position.y += 0.2;//上\r\n        //this.player.position.z += 0.2;//后\r\n        this.player.position.z -= 0.1;//前\r\n    }\r\n\r\n    private preClientX;\r\n    public onTouchMove(event)\r\n    {\r\n        let curX = event.clientX;\r\n        if (this.preClientX < curX) {\r\n            //console.log(\"右滑动\");\r\n            GameManager.instance.player.position.x += GameManager.instance.moveSpeed;\r\n        }\r\n        else if (this.preClientX > curX)\r\n        {\r\n            //console.log(\"左滑动\");\r\n            GameManager.instance.player.position.x -= GameManager.instance.moveSpeed;\r\n        }\r\n        this.preClientX = curX;\r\n    }\r\n}","/// <reference path='typings/tsd.d.ts' />\r\nimport GameMain from './app/GameMain';\r\n\r\nlet win: any = window as any;\r\n\r\nwin.main_start = (scene, camera, renderer) =>\r\n{\r\n    GameMain.instance.Init(win, scene, camera, renderer)\r\n}\r\nconsole.log(\"main.ts loader\");"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvYXBwL0dhbWVNYWluLnRzIiwic3JjL2FwcC9HYW1lTWFuYWdlci50cyIsInNyYy9tYWluLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQyxjQUFjO0FBQ2YsNkNBQXdDO0FBRXhDO0lBWUk7UUFSTyxRQUFHLEdBQVEsSUFBSSxDQUFDO1FBQ3ZCLGFBQWE7UUFDTixVQUFLLEdBQWdCLElBQUksQ0FBQztRQUMxQixXQUFNLEdBQWlCLElBQUksQ0FBQztRQUM1QixhQUFRLEdBQXdCLElBQUksQ0FBQztRQUVyQyxXQUFNLEdBQW1CLElBQUksQ0FBQztJQUdwQyxDQUFDO0lBRUssdUJBQUksR0FBWCxVQUFZLEdBQVEsRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLE9BQU87UUFFMUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxlQUFlLENBQUMsQ0FBQztRQUM3QixJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUNmLElBQUksQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDO1FBQ3BCLElBQUksQ0FBQyxNQUFNLEdBQUcsT0FBTyxDQUFDO1FBQ3RCLElBQUksQ0FBQyxRQUFRLEdBQUcsT0FBTyxDQUFDO1FBQ3hCLHFCQUFXLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFDO1FBQzVCLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUNkLG9DQUFvQztRQUNwQyxHQUFHO1FBQ0gscUJBQXFCO1FBQ3JCLEdBQUc7SUFDUCxDQUFDO0lBRU0seUJBQU0sR0FBYjtRQUVJLFFBQVEsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ25DLHFCQUFXLENBQUMsUUFBUSxDQUFDLFVBQVUsRUFBRSxDQUFDO1FBQ2xDLFFBQVEsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLEtBQUssRUFBRSxRQUFRLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3JGLHFCQUFxQixDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDcEQsQ0FBQztJQWxDYSxpQkFBUSxHQUFhLElBQUksUUFBUSxFQUFFLENBQUM7SUFtQ3RELGVBQUM7Q0FyQ0QsQUFxQ0MsSUFBQTtrQkFyQ29CLFFBQVE7Ozs7QUNINUIsdUNBQWtDO0FBRW5DO0lBUUk7UUFMTyxhQUFRLEdBQWEsSUFBSSxDQUFDO1FBQzFCLFdBQU0sR0FBbUIsSUFBSSxDQUFDO1FBRTlCLGNBQVMsR0FBRyxHQUFHLENBQUM7SUFHckIsQ0FBQztJQUVJLDBCQUFJLEdBQVg7UUFBQSxpQkFTQztRQVBHLE9BQU8sQ0FBQyxHQUFHLENBQUMsa0JBQWtCLENBQUMsQ0FBQztRQUNoQyxJQUFJLENBQUMsTUFBTSxHQUFHLGtCQUFRLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDaEUsd0RBQXdEO1FBQ3hELGtEQUFrRDtRQUNsRCxRQUFRLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUM7UUFDeEMsUUFBUSxDQUFDLE9BQU8sR0FBRyxjQUFRLFFBQVEsQ0FBQyxXQUFXLEdBQUcsS0FBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0RSxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDaEIsQ0FBQztJQUVNLDBCQUFJLEdBQVg7SUFHQSxDQUFDO0lBRU0sZ0NBQVUsR0FBakI7UUFFSSxtQ0FBbUM7UUFDbkMsbUNBQW1DO1FBQ25DLG1DQUFtQztRQUNuQyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksR0FBRyxDQUFDLENBQUEsR0FBRztJQUNyQyxDQUFDO0lBR00saUNBQVcsR0FBbEIsVUFBbUIsS0FBSztRQUVwQixJQUFJLElBQUksR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDO1FBQ3pCLElBQUksSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLEVBQUU7WUFDeEIscUJBQXFCO1lBQ3JCLFdBQVcsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksV0FBVyxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUM7U0FDNUU7YUFDSSxJQUFJLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxFQUMvQjtZQUNJLHFCQUFxQjtZQUNyQixXQUFXLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLFdBQVcsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDO1NBQzVFO1FBQ0QsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM7SUFDM0IsQ0FBQztJQS9DYSxvQkFBUSxHQUFnQixJQUFJLFdBQVcsRUFBRSxDQUFDO0lBZ0Q1RCxrQkFBQztDQWxERCxBQWtEQyxJQUFBO2tCQWxEb0IsV0FBVzs7OztBQ0ZoQyx5Q0FBeUM7QUFDekMsMkNBQXNDO0FBRXRDLElBQUksR0FBRyxHQUFRLE1BQWEsQ0FBQztBQUU3QixHQUFHLENBQUMsVUFBVSxHQUFHLFVBQUMsS0FBSyxFQUFFLE1BQU0sRUFBRSxRQUFRO0lBRXJDLGtCQUFRLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxRQUFRLENBQUMsQ0FBQTtBQUN4RCxDQUFDLENBQUE7QUFDRCxPQUFPLENBQUMsR0FBRyxDQUFDLGdCQUFnQixDQUFDLENBQUMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCLvu78vL21haW4udHPkuYvlpJbnmoTlhaXlj6NcclxuaW1wb3J0IEdhbWVNYW5hZ2VyIGZyb20gJy4vR2FtZU1hbmFnZXInO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZU1haW5cclxue1xyXG4gICAgcHVibGljIHN0YXRpYyBpbnN0YW5jZTogR2FtZU1haW4gPSBuZXcgR2FtZU1haW4oKTtcclxuXHJcbiAgICBwdWJsaWMgd2luOiBhbnkgPSBudWxsO1xyXG4gICAgLy/kuI3kvb/nlKjlhajlsYDml6Dms5XmiafooYzmm7TmlrBcclxuICAgIHB1YmxpYyBzY2VuZTogVEhSRUUuU2NlbmUgPSBudWxsO1xyXG4gICAgcHVibGljIGNhbWVyYTogVEhSRUUuQ2FtZXJhID0gbnVsbDtcclxuICAgIHB1YmxpYyByZW5kZXJlcjogVEhSRUUuV2ViR0xSZW5kZXJlciA9IG51bGw7XHJcblxyXG4gICAgcHVibGljIHBsYXllcjogVEhSRUUuT2JqZWN0M0QgPSBudWxsO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKClcclxuICAgIHt9XHJcblxyXG4gICAgcHVibGljIEluaXQod2luOiBhbnksIF9zY2VuZSwgX2NhbWVyYSwgX3JlbmRlcilcclxuICAgIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkVudHJhbmNlIEluaXRcIik7XHJcbiAgICAgICAgdGhpcy53aW4gPSB3aW47XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IF9zY2VuZTtcclxuICAgICAgICB0aGlzLmNhbWVyYSA9IF9jYW1lcmE7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IF9yZW5kZXI7XHJcbiAgICAgICAgR2FtZU1hbmFnZXIuaW5zdGFuY2UuSW5pdCgpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICAgICAgLy9mb3IgKGxldCB2IG9mIHRoaXMuc2NlbmUuY2hpbGRyZW4pXHJcbiAgICAgICAgLy97XHJcbiAgICAgICAgLy8gICAgY29uc29sZS5sb2codik7XHJcbiAgICAgICAgLy99XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZSgpXHJcbiAgICB7XHJcbiAgICAgICAgR2FtZU1haW4uaW5zdGFuY2UucmVuZGVyZXIuY2xlYXIoKTtcclxuICAgICAgICBHYW1lTWFuYWdlci5pbnN0YW5jZS5HYW1lVXBkYXRlKCk7XHJcbiAgICAgICAgR2FtZU1haW4uaW5zdGFuY2UucmVuZGVyZXIucmVuZGVyKEdhbWVNYWluLmluc3RhbmNlLnNjZW5lLCBHYW1lTWFpbi5pbnN0YW5jZS5jYW1lcmEpO1xyXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShHYW1lTWFpbi5pbnN0YW5jZS51cGRhdGUpO1xyXG4gICAgfVxyXG59Iiwi77u/aW1wb3J0IEdhbWVNYWluIGZyb20gJy4vR2FtZU1haW4nO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZU1hbmFnZXIge1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgaW5zdGFuY2U6IEdhbWVNYW5hZ2VyID0gbmV3IEdhbWVNYW5hZ2VyKCk7XHJcbiAgICBwdWJsaWMgZ2FtZU1haW46IEdhbWVNYWluID0gbnVsbDtcclxuICAgIHB1YmxpYyBwbGF5ZXI6IFRIUkVFLk9iamVjdDNEID0gbnVsbDtcclxuXHJcbiAgICBwdWJsaWMgbW92ZVNwZWVkID0gMC4yO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKClcclxuICAgIHsgfVxyXG5cclxuICAgIHB1YmxpYyBJbml0KClcclxuICAgIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkdhbWVNYW5hZ2VyIGluaXRcIik7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIgPSBHYW1lTWFpbi5pbnN0YW5jZS5zY2VuZS5nZXRPYmplY3RCeU5hbWUoXCJwbGF5ZXJcIik7XHJcbiAgICAgICAgLy9kb2N1bWVudC5vbm1vdXNlZG93biA9IEdhbWVNYW5hZ2VyLmluc3RhbmNlLm9uS2V5RG93bjtcclxuICAgICAgICAvL2RvY3VtZW50Lm9ua2V5dXAgPSBHYW1lTWFuYWdlci5pbnN0YW5jZS5vbktleVVwO1xyXG4gICAgICAgIGRvY3VtZW50Lm9udG91Y2htb3ZlID0gdGhpcy5vblRvdWNoTW92ZTtcclxuICAgICAgICBkb2N1bWVudC5vbmNsaWNrID0gKCkgPT4geyBkb2N1bWVudC5vbm1vdXNlbW92ZSA9IHRoaXMub25Ub3VjaE1vdmU7IH07XHJcbiAgICAgICAgdGhpcy50ZXN0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRlc3QoKVxyXG4gICAge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgR2FtZVVwZGF0ZSgpXHJcbiAgICB7XHJcbiAgICAgICAgLy90aGlzLnBsYXllci5wb3NpdGlvbi54ICs9IDAuMjsvL+WPs1xyXG4gICAgICAgIC8vdGhpcy5wbGF5ZXIucG9zaXRpb24ueSArPSAwLjI7Ly/kuIpcclxuICAgICAgICAvL3RoaXMucGxheWVyLnBvc2l0aW9uLnogKz0gMC4yOy8v5ZCOXHJcbiAgICAgICAgdGhpcy5wbGF5ZXIucG9zaXRpb24ueiAtPSAwLjE7Ly/liY1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHByZUNsaWVudFg7XHJcbiAgICBwdWJsaWMgb25Ub3VjaE1vdmUoZXZlbnQpXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IGN1clggPSBldmVudC5jbGllbnRYO1xyXG4gICAgICAgIGlmICh0aGlzLnByZUNsaWVudFggPCBjdXJYKSB7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCLlj7Pmu5HliqhcIik7XHJcbiAgICAgICAgICAgIEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci5wb3NpdGlvbi54ICs9IEdhbWVNYW5hZ2VyLmluc3RhbmNlLm1vdmVTcGVlZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5wcmVDbGllbnRYID4gY3VyWClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCLlt6bmu5HliqhcIik7XHJcbiAgICAgICAgICAgIEdhbWVNYW5hZ2VyLmluc3RhbmNlLnBsYXllci5wb3NpdGlvbi54IC09IEdhbWVNYW5hZ2VyLmluc3RhbmNlLm1vdmVTcGVlZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wcmVDbGllbnRYID0gY3VyWDtcclxuICAgIH1cclxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9J3R5cGluZ3MvdHNkLmQudHMnIC8+XHJcbmltcG9ydCBHYW1lTWFpbiBmcm9tICcuL2FwcC9HYW1lTWFpbic7XHJcblxyXG5sZXQgd2luOiBhbnkgPSB3aW5kb3cgYXMgYW55O1xyXG5cclxud2luLm1haW5fc3RhcnQgPSAoc2NlbmUsIGNhbWVyYSwgcmVuZGVyZXIpID0+XHJcbntcclxuICAgIEdhbWVNYWluLmluc3RhbmNlLkluaXQod2luLCBzY2VuZSwgY2FtZXJhLCByZW5kZXJlcilcclxufVxyXG5jb25zb2xlLmxvZyhcIm1haW4udHMgbG9hZGVyXCIpOyJdfQ=="}